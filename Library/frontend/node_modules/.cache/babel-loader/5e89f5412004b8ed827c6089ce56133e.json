{"ast":null,"code":"import _slicedToArray from \"/home/yoosuf/yoosuf/my_projects/ag_hedge_project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/yoosuf/yoosuf/my_projects/ag_hedge_project/frontend/src/components/book.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Typography, TableContainer, Table, TableHead, TableRow, TableCell, TableBody } from \"@material-ui/core\";\nimport { BookTableRow } from \"./row\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nexport function Book(_ref) {\n  var _this = this;\n  var books = _ref.books,\n    isLoggedIn = _ref.isLoggedIn,\n    handleBorrow = _ref.handleBorrow;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  useEffect(function () {\n    var userId = Cookies.get(\"userId\");\n    if (userId) {\n      axios.get(\"http://localhost:4000/api/v1/users/\".concat(userId)).then(function (response) {\n        setUser(response.data);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Books\"), /*#__PURE__*/React.createElement(TableContainer, {\n    className: classes.tableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, \"Book Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"Author\"), isLoggedIn && /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 30\n    }\n  }, \"Copies\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"Availability\"), isLoggedIn && /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tableHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 30\n    }\n  }, \"Borrow\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(BookTableRow, {\n      key: book.id,\n      book: book,\n      isLoggedIn: isLoggedIn,\n      handleBorrow: handleBorrow,\n      user: user,\n      className: classes.tableRow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    });\n  })))));\n}\n\n//   return (\n//     <>\n//       <Typography variant=\"h1\">Books</Typography>\n//       <TableContainer>\n//         <Table>\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Book Name</TableCell>\n//               <TableCell>Author</TableCell>\n//               {isLoggedIn && <TableCell>Copies</TableCell>}\n//               <TableCell>Availability</TableCell>\n//               {isLoggedIn && <TableCell>Borrow</TableCell>}\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {books.map((book) => (\n//               <BookTableRow\n//                 key={book.id}\n//                 book={book}\n//                 isLoggedIn={isLoggedIn}\n//                 handleBorrow={handleBorrow}\n//                 user={user}\n//               />\n//             ))}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </>\n//   );\n// }\n\nexport default Book;","map":{"version":3,"names":["React","useState","useEffect","Typography","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","BookTableRow","axios","Cookies","Book","_ref","_this","books","isLoggedIn","handleBorrow","_useState","_useState2","_slicedToArray","user","setUser","userId","get","concat","then","response","data","catch","error","console","createElement","Fragment","variant","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","classes","tableContainer","tableHeader","map","book","key","id","tableRow"],"sources":["/home/yoosuf/yoosuf/my_projects/ag_hedge_project/frontend/src/components/book.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport {\n  Typography,\n  TableContainer,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n} from \"@material-ui/core\";\nimport { BookTableRow, BookTableRowProps } from \"./row\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nexport interface Book {\n  id: number;\n  author: string;\n  book_name: string;\n  copies: number;\n  is_active: boolean;\n  is_available: boolean;\n  is_delete: boolean;\n}\n\nexport interface BooksTableProps {\n  books: Book[];\n  isLoggedIn: boolean;\n  handleBorrow: (bookId: number) => Promise<void>;\n}\n\nexport function Book({ books, isLoggedIn, handleBorrow }: BooksTableProps) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const userId = Cookies.get(\"userId\");\n    if (userId) {\n      axios\n        .get(`http://localhost:4000/api/v1/users/${userId}`)\n        .then((response) => {\n          setUser(response.data);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    }\n  }, []);\n  return (\n    <>\n      <Typography variant=\"h1\">Books</Typography>\n      <TableContainer className={classes.tableContainer}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.tableHeader}>Book Name</TableCell>\n              <TableCell className={classes.tableHeader}>Author</TableCell>\n              {isLoggedIn && <TableCell className={classes.tableHeader}>Copies</TableCell>}\n              <TableCell className={classes.tableHeader}>Availability</TableCell>\n              {isLoggedIn && <TableCell className={classes.tableHeader}>Borrow</TableCell>}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {books.map((book) => (\n              <BookTableRow\n                key={book.id}\n                book={book}\n                isLoggedIn={isLoggedIn}\n                handleBorrow={handleBorrow}\n                user={user}\n                className={classes.tableRow}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n  }\n\n//   return (\n//     <>\n//       <Typography variant=\"h1\">Books</Typography>\n//       <TableContainer>\n//         <Table>\n//           <TableHead>\n//             <TableRow>\n//               <TableCell>Book Name</TableCell>\n//               <TableCell>Author</TableCell>\n//               {isLoggedIn && <TableCell>Copies</TableCell>}\n//               <TableCell>Availability</TableCell>\n//               {isLoggedIn && <TableCell>Borrow</TableCell>}\n//             </TableRow>\n//           </TableHead>\n//           <TableBody>\n//             {books.map((book) => (\n//               <BookTableRow\n//                 key={book.id}\n//                 book={book}\n//                 isLoggedIn={isLoggedIn}\n//                 handleBorrow={handleBorrow}\n//                 user={user}\n//               />\n//             ))}\n//           </TableBody>\n//         </Table>\n//       </TableContainer>\n//     </>\n//   );\n// }\n\nexport default Book;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}